!function(e){"use strict";function t(e,t){var s=decodeURIComponent(e);if(s.length<=t)return e;var a=s.substring(0,t-1).lastIndexOf(" ");return s=encodeURIComponent(s.substring(0,a))+"â€¦"}function s(t){var s=e('meta[name="'+t+'"]').attr("content");return s||""}function a(){var t=s("DC.title"),a=s("DC.creator");return t.length>0&&a.length>0?t+=" - "+a:t=e("title").text(),encodeURIComponent(t)}function i(){var t=document.location.href,s=e("link[rel=canonical]").attr("href");return s&&s.length>0&&(s.indexOf("http")<0&&(s=document.location.protocol+"//"+document.location.host+s),t=s),t}function o(e,t,s,a,i){var o=new Date;o.setTime(o.getTime()+24*s*60*60*1e3),document.cookie=e+"="+t+"; expires="+o.toUTCString()+"; path="+a+"; domain="+i}function r(e,t,s,a){var i=new Date;i.setTime(i.getTime()-100),document.cookie=e+"="+t+"; expires="+i.toUTCString()+"; path="+s+"; domain="+a}e.fn.socialSharePrivacy=function(s){function n(){var t=e.Deferred();return e.getJSON(l.lang_path+l.language+".lang",function(e){u=e,t.resolve()}).fail(function(e){"undefined"!=typeof console&&console.log("Error "+e.status+" while loading the language file ("+l.lang_path+l.language+".lang)"),t.reject()}),t.promise()}var c={services:{facebook:{status:"on",dummy_img:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/images/dummy_facebook.png",perma_option:"on",referrer_track:"",action:"recommend",layout:"button_count",sharer:{status:"off",dummy_img:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/images/dummy_facebook_share_de.png",img:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/images/dummy_facebook_share_active_de.png"}},twitter:{status:"on",dummy_img:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/images/dummy_twitter.png",perma_option:"on",referrer_track:"",tweet_text:a,count:"horizontal"},gplus:{status:"on",dummy_img:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/images/dummy_gplus.png",perma_option:"on",referrer_track:"",size:"medium"}},info_link:"http://www.heise.de/ct/artikel/2-Klicks-fuer-mehr-Datenschutz-1333879.html",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/socialshareprivacy.css",uri:i,language:"de",lang_path:"../../core/backend/admin/modules/share_buttons/socialshareprivacy/lang/",skin:"light",alignment:"horizontal",switch_alignment:"left",perma_orientation:"down"},l=e.extend(!0,c,s),f="on"===l.services.facebook.status,m="on"===l.services.facebook.sharer.status,p="on"===l.services.twitter.status,d="on"===l.services.gplus.status;if(f||p||d){l.css_path.length>0&&"1"!=e(window).data("socialshareprivacy_css")&&(document.createStyleSheet?document.createStyleSheet(l.css_path):e("head").append('<link rel="stylesheet" type="text/css" href="'+l.css_path+'" />'),e(window).data("socialshareprivacy_css","1"));var u;return this.each(function(){e("div#socialshareprivacy").each(function(){var s=this;e.when(n()).then(function(){e(s).prepend('<ul class="social_share_privacy_area clearfix"></ul>');var a=e(".social_share_privacy_area",s);"dark"==l.skin&&e(a).addClass("skin-dark"),"vertical"==l.alignment&&(e(a).addClass("vertical"),"right"==l.switch_alignment&&(f&&"box_count"==l.services.facebook.layout||!f)&&(p&&"vertical"==l.services.twitter.count||!p)&&(d&&"tall"==l.services.gplus.size||!d)&&e(a).addClass("switch_right"));var i=l.uri;if("function"==typeof i&&(i=i(a)),f){var n,c,_="box_count"==l.services.facebook.layout?"61":"21",h="box_count"==l.services.facebook.layout?"90":"130",g=encodeURIComponent(i+l.services.facebook.referrer_track);m?(n='<img src="'+l.services.facebook.sharer.dummy_img+'" alt="Facebook &quot;Share&quot;-Dummy" class="fb_like_privacy_dummy" />',c='<a href="#" onclick="window.open(\'https://www.facebook.com/sharer/sharer.php?u='+g+"', 'facebook-share-dialog', 'width=626,height=436'); return false;\"><img src=\""+l.services.facebook.sharer.img+'" alt="" /></a>'):(n='<img src="'+l.services.facebook.dummy_img+'" alt="Facebook &quot;Like&quot;-Dummy" class="fb_like_privacy_dummy" />',c='<iframe src="//www.facebook.com/plugins/like.php?locale='+u.services.facebook.language+"&amp;href="+g+"&amp;width="+h+"&amp;layout="+l.services.facebook.layout+"&amp;action="+l.services.facebook.action+"&amp;show_faces=false&amp;share=false&amp;height="+_+"&amp;colorscheme="+l.skin+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+h+"px; height:"+_+'px;" allowTransparency="true"></iframe>'),a.append('<li class="facebook help_info clearfix"><span class="info">'+u.services.facebook.txt_info+'</span><a href="#" class="switch off">'+u.services.facebook.txt_fb_off+'</a><div class="fb_like dummy_btn">'+n+"</div></li>");var v=e("li.facebook",a);e(a).on("click","li.facebook div.fb_like img.fb_like_privacy_dummy,li.facebook .switch",function(e){e.preventDefault(),v.find(".switch").hasClass("off")?(v.addClass("info_off"),v.find(".switch").addClass("on").removeClass("off").html(u.services.facebook.txt_fb_on),v.find("img.fb_like_privacy_dummy").replaceWith(c)):(v.removeClass("info_off"),v.find(".switch").addClass("off").removeClass("on").html(u.services.facebook.txt_fb_off),v.find(".fb_like").html(n))})}if(p){var k=l.services.twitter.tweet_text;"function"==typeof k&&(k=k()),k=t(k,"120");var w="horizontal"==l.services.twitter.count?"25":"62",b="horizontal"==l.services.twitter.count?"130":"83",y=encodeURIComponent(i+l.services.twitter.referrer_track),C=encodeURIComponent(i),x='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="//platform.twitter.com/widgets/tweet_button.html?url='+y+"&amp;counturl="+C+"&amp;text="+k+"&amp;count="+l.services.twitter.count+"&amp;lang="+u.services.twitter.language+'&amp;dnt=true" style="width:'+b+"px; height:"+w+'px;"></iframe>',S='<img src="'+l.services.twitter.dummy_img+'" alt="&quot;Tweet this&quot;-Dummy" class="tweet_this_dummy" />';a.append('<li class="twitter help_info clearfix"><span class="info">'+u.services.twitter.txt_info+'</span><a href="#" class="switch off">'+u.services.twitter.txt_twitter_off+'</a><div class="tweet dummy_btn">'+S+"</div></li>");var D=e("li.twitter",a);e(a).on("click","li.twitter div.tweet img,li.twitter .switch",function(e){e.preventDefault(),D.find(".switch").hasClass("off")?(D.addClass("info_off"),D.find(".switch").addClass("on").removeClass("off").html(u.services.twitter.txt_twitter_on),D.find("img.tweet_this_dummy").replaceWith(x)):(D.removeClass("info_off"),D.find(".switch").addClass("off").removeClass("on").html(u.services.twitter.txt_twitter_off),D.find(".tweet").html(S))})}if(d){var T=i+l.services.gplus.referrer_track,z='<div class="g-plusone" data-size="'+l.services.gplus.size+'" data-href="'+T+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+u.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/platform.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>',q='<img src="'+l.services.gplus.dummy_img+'" alt="&quot;Google+1&quot;-Dummy" class="gplus_one_dummy" />';a.append('<li class="gplus help_info clearfix"><span class="info">'+u.services.gplus.txt_info+'</span><a href="#" class="switch off">'+u.services.gplus.txt_gplus_off+'</a><div class="gplusone dummy_btn">'+q+"</div></li>");var I=e("li.gplus",a);e(a).on("click","li.gplus div.gplusone img,li.gplus .switch",function(e){e.preventDefault(),I.find(".switch").hasClass("off")?(I.addClass("info_off"),I.find(".switch").addClass("on").removeClass("off").html(u.services.gplus.txt_gplus_on),I.find("img.gplus_one_dummy").replaceWith(z)):(I.removeClass("info_off"),I.find(".switch").addClass("off").removeClass("on").html(u.services.gplus.txt_gplus_off),I.find(".gplusone").html(q))})}a.append('<li class="settings_info '+l.perma_orientation+'"><div class="settings_info_menu off perma_option_off"><a href="'+l.info_link+'"><span class="help_info icon"><span class="info">'+u.txt_help+"</span></span></a></div></li>"),e(a).on("mouseenter",".help_info:not(.info_off)",function(){var t=e(this),s=window.setTimeout(function(){e(t).addClass("display")},500);e(this).data("timeout_id",s)}),e(a).on("mouseleave",".help_info",function(){var t=e(this).data("timeout_id");window.clearTimeout(t),e(this).hasClass("display")&&e(this).removeClass("display")});var P="on"===l.services.facebook.perma_option,U="on"===l.services.twitter.perma_option,j="on"===l.services.gplus.perma_option;if(f&&P||p&&U||d&&j){for(var R=document.cookie.split(";"),O="{",N=0;N<R.length;N+=1){var E=R[N].split("=");E[0]=e.trim(E[0].replace(/"/g,"")),E[1]=e.trim(E[1].replace(/"/g,"")),O+='"'+E[0]+'":"'+E[1]+'"',N<R.length-1&&(O+=",")}O+="}",O=jQuery.parseJSON(O);var W=e("li.settings_info",a);W.find(".settings_info_menu").removeClass("perma_option_off"),W.find(".settings_info_menu").append('<a href="#" class="settings">'+u.settings+"</a><form><fieldset><legend>"+u.settings_perma+"</legend></fieldset></form>");var B="r"+Math.floor(101*Math.random()),F=' checked="checked"';if(f&&P){var J="perma_on"===O.socialSharePrivacy_facebook?F:"";W.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="'+B+'_perma_status_facebook"'+J+' /><label for="'+B+'_perma_status_facebook">'+u.services.facebook.perma_display_name+"</label>")}if(p&&U){var M="perma_on"===O.socialSharePrivacy_twitter?F:"";W.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="'+B+'_perma_status_twitter"'+M+' /><label for="'+B+'_perma_status_twitter">'+u.services.twitter.perma_display_name+"</label>")}if(d&&j){var Q="perma_on"===O.socialSharePrivacy_gplus?F:"";W.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="'+B+'_perma_status_gplus"'+Q+' /><label for="'+B+'_perma_status_gplus">'+u.services.gplus.perma_display_name+"</label>")}e(a).on("click","li.settings_info .settings",function(t){t.preventDefault(),"on"==e(this).data("keyb")?(e("li.settings_info",a).trigger("mouseleave"),e(this).data("keyb","off")):(e("li.settings_info .settings",a).trigger("mouseenter"),e(this).data("keyb","on"))}),e(a).on("mouseenter","li.settings_info .settings",function(){var t=window.setTimeout(function(){W.find(".settings_info_menu").removeClass("off").addClass("on")},500);e(this).data("timeout_id",t)}),e(a).on("mouseleave","li.settings_info",function(){var t=e(this).data("timeout_id");window.clearTimeout(t),W.find(".settings_info_menu").removeClass("on").addClass("off")}),e(a).on("click","li.settings_info fieldset input",function(t){var s=t.target.id,i=s.substr(s.lastIndexOf("_")+1,s.length),n="socialSharePrivacy_"+i;e("#"+t.target.id+":checked").length?(o(n,"perma_on",l.cookie_expires,l.cookie_path,l.cookie_domain),e("form fieldset label[for="+s+"]",a).addClass("checked")):(r(n,"perma_on",l.cookie_path,l.cookie_domain),e("form fieldset label[for="+s+"]",a).removeClass("checked"))}),f&&P&&"perma_on"===O.socialSharePrivacy_facebook&&e("li.facebook .switch",a).click(),p&&U&&"perma_on"===O.socialSharePrivacy_twitter&&e("li.twitter .switch",a).click(),d&&j&&"perma_on"===O.socialSharePrivacy_gplus&&e("li.gplus .switch",a).click()}})})})}}}(jQuery);